function BillController(e,l,i,t,n){var s=this;s.shellID=l.shellID,s.billList=[],s.filteredList=[],s.currentPage=1,s.numPerPage=10,s.maxsize=s.billList.length/10,s.billMessage="",s.getRandomColor=function(e,l){var i=["#3175b0","#58b358","#52bcdc","#efa741","#d24844"],t="";return e.color?e.color:(t+=i[l%i.length],e.color=t,t)},s.toggleModal=function(e,l,t){i.buttonClicked=e,i.showModal=!i.showModal,s.btnClicked=e,"Add Bill"==e?(s.createDate=new Date,s.billType="Rent",s.billMessage="",s.itemAmount="",s.description="",s.comments="",s.CreateEdit="Create"):(s.index=t,s.billID=l._id,s.createDate=new Date(l.date),s.billType=l.billType,s.billMessage="",s.itemAmount=l.itemAmount,s.description=l.description,s.comments=l.comments,s.CreateEdit="update")},s.billModify=function(){var l={};l.billShell_id=s.shellID,l.person="priya.suriyamurthi@gmail.com",l.itemAmount=s.itemAmount,l.billType=s.billType,l.description=s.description,l.comments=s.comments,l.date=s.createDate,"Add Bill"==s.btnClicked?(e.create(l).then(function(e){s.billList.push(e),s.billMessage="New Bill was added",s.listFilter()}),s.billMessage=""):e.update(l,s.billID).then(function(e){for(var i=Object.keys(s.billList[s.index]),t=0;t<i.length;t++)l.hasOwnProperty([i[t]])&&(s.billList[s.index][i[t]]=l[i[t]]);s.billMessage="Bill was updated",s.listFilter()}),s.billCreate.$setPristine(),s.billCreate.$setUntouched(),s.billCreate.$submitted=!1},s.deleteBill=function(l,i){e.remove(l.billShell_id,l._id).then(function(e){s.billMessage="Bill was removed",s.billList.splice(i,1),s.listFilter()})},s.fetchBills=function(){s.billList.length=0,e.retrieve(this.shellID).then(function(e){s.billList=e,s.listFilter()})},s.listFilter=function(){s.filteredList.length=0,i.$watch("currentPage + numPerPage",function(){var e=(s.currentPage-1)*s.numPerPage,l=e+s.numPerPage;s.filteredList=s.billList.slice(e,l)})},s.fetchBills()}angular.module("bilancio").controller("BillController",BillController);